---
title: "Effects of news on price changes"
output: html_document
---
  
  <style>
  .main-container {
    max-width: 940px;
    margin-left: 0;
    margin-right: auto;
  }
</style>
  
  
  Version: 1.0

```{r, echo=FALSE, message=FALSE,warning=FALSE}
#Matching critical entries to news


###############################################################################################################################
########-----------------------------------------FUNCTIONS-------------------------------------------------------------########
###############################################################################################################################

PlotReturnsByNews <- function(Ticker, Date,Change,News){

          DataI=data.frame(Date=Date, Change=Change)
        #news for given pair
          News1=News %>% filter(currency == substr(Ticker, 1, 3))
          News2=News %>% filter(currency == substr(Ticker, 4, 6))
        
          NewsI=rbind(News1,News2) #Concantenate news from both pairs
          NewsI$Date=as.Date(NewsI$DateUTC,  format ="%Y-%m-%d")
          
          NewsI=NewsI[,c("event", "Date")]
        #Merge
          ReturnNewsI=merge(DataI,NewsI, by="Date", all.x=TRUE)
          
        #Returns by news type...resume the variation in return when each news is reported
          ReturnNewsI =ReturnNewsI %>% group_by(event) %>% summarise(MinChange = min(Change, na.rm=T),MaxChange = max(Change, na.rm=T))
        
          ReturnNewsI=data.frame(ReturnNewsI)
          ReturnNewsI$MinChange=round(ReturnNewsI$MinChange,2)
          ReturnNewsI$MaxChange=round(ReturnNewsI$MaxChange,2)
          ReturnNewsI=ReturnNewsI %>% arrange(desc(MaxChange))
          ReturnNewsI$Rank=(1:nrow(ReturnNewsI))
          ReturnNewsI$Critical=ifelse(abs(ReturnNewsI$MaxChange)>=MinDDWanted, "Yes","No")
          
          ReturnNewsI <- na.omit(ReturnNewsI)
          
          Plot_ReturnRangeByNews = plot_ly(ReturnNewsI, x = ~Rank, xend = ~Rank, y = ~MinChange, yend = ~MaxChange, 
                  text = ~event, hoverinfo = "event") %>% 
            add_segments(color = ~Critical,
                         colors = c("Yes" = "red", "No" = "blue")) %>% 
                  layout(
                   showlegend = F,
                   plot_bgcolor="rgba(0, 0, 0, 0)",
                   xaxis = list(
                     title ="",
                     zerolinecolor = '#ffff',
                     zerolinewidth = 2,
                     gridcolor = "rgba(0, 0, 0, 0)",
                     tickvals = ReturnNewsI$Rank, ticktext = ReturnNewsI$event,
                     tickfont = list(size = 7) 
                   ),
                   yaxis = list(
                     title ="Range of Daily Returns (%)",
                     zerolinecolor = '#ffff',
                     zerolinewidth = 2)
                  )%>%
                add_segments(x = 0, xend = max(ReturnNewsI$Rank), y = MinDDWanted, yend = MinDDWanted, color=I("red"), line = list(dash = 'dot')) 
        
          
          return(Plot_ReturnRangeByNews)
          
        }
  


#################################################################################################################################
#-----------------------------------------------------------------------------------------------------------------------------###
###----START-------------------------------------Funtion Effect of filtering critical changes---------------------------------###
#-----------------------------------------------------------------------------------------------------------------------------###
#################################################################################################################################

PlotFilteringNews <- function(Ticker, Date,Change,News, CriticalThreshold, YHover, YAxisName){
  
         DataI=data.frame(Date=Date, Change=Change)
        #news for given pair
          News1=News %>% filter(currency == substr(Ticker, 1, 3))
          News2=News %>% filter(currency == substr(Ticker, 4, 6))
        
          NewsI=rbind(News1,News2) #Concantenate news from both pairs
          NewsI$Date=as.Date(NewsI$DateUTC,  format ="%Y-%m-%d")
          
          NewsI=NewsI[,c("event", "Date")]
        #Merge
          ReturnNewsI=merge(DataI,NewsI, by="Date", all.x=TRUE)
          
          
          CriticalDays=ReturnNewsI %>% filter(abs(Change) >=CriticalThreshold) #Select crtical days
          
          NewsEvents=unique(CriticalDays$event)
        
          CritLeftAfterSequaltialRemval=data.frame(Eventname="Total",CriticalLeft=length(unique(CriticalDays$Date)))
        
        #count number of critical entries left after removing days of given news.
        Count=length(NewsEvents)
        while (Count!=0){
        TemLeft=data.frame(Eventname=as.character(),CriticalLeft=as.numeric())
        NewsEvents=unique(CriticalDays$event)
        NewsEvents <- NewsEvents[!is.na(NewsEvents)]
        for (NewsI in NewsEvents){
          CriticalRetLeft = CriticalDays %>% filter(event != NewsI | (is.na(event)))
          NCriticalRetLeft=length(unique(CriticalRetLeft$Date))
          Vals=c(NewsI, NCriticalRetLeft)
          TemLeft=rbind(TemLeft,Vals)
        }
        
        colnames(TemLeft)=c("Eventname", "CriticalLeft")
        LeftCri=TemLeft %>% filter(CriticalLeft ==min(CriticalLeft))
        
        #removve sequentia news that rank even
        EvenNews=unique(LeftCri$Eventname)
        
        for (EvenNewsI in EvenNews){
          CriticalDays = CriticalDays %>% filter(event != EvenNewsI | (is.na(event)))
          FinalLeft=length(unique(CriticalDays$Date))
          FinalVals=c(EvenNewsI, FinalLeft)
          CritLeftAfterSequaltialRemval=rbind(CritLeftAfterSequaltialRemval,FinalVals)
        }
        Count=nrow(CriticalDays)
        NAs=sum(is.na(CriticalDays$event))
        if(NAs==Count){Count=0}
        }
        
        
        NonFilterCriticalReturn=CriticalDays[,c("Date", "Change")] #list of criticl returns that were not filtered
        
        
        #count days and dropdown left for working after news days are removed
        ImportantNews=CritLeftAfterSequaltialRemval$Eventname
        
        
        FinalDaysLeft=c()
        for (ImporantNewsI in ImportantNews){
          ReturnNewsI=ReturnNewsI %>% filter(event !=ImporantNewsI | (is.na(event))) #Exclude dates with the news and include days with no news...to cound days left after removing days with the given news
          MaxDDLeft=round(max(ReturnNewsI$Change,na.rm=TRUE),2)
          nDaysLeft=length(unique(ReturnNewsI$Date))
          ResltDayLeft=c(ImporantNewsI,nDaysLeft, MaxDDLeft)
          FinalDaysLeft=rbind(FinalDaysLeft,ResltDayLeft)
        }
        
        
        colnames(FinalDaysLeft)=c("Eventname", "DaysLeft", "MaximumDDLeft")
        
        
        
        FinalData=merge(CritLeftAfterSequaltialRemval, FinalDaysLeft,by="Eventname")
        
        FinalData$CriticalLeft=as.numeric(FinalData$CriticalLeft)
        FinalData$DaysLeft=as.numeric(FinalData$DaysLeft)
        FinalData$MaximumDDLeft=as.numeric(FinalData$MaximumDDLeft)
        
        TotalReturnsFinalData= FinalData %>% filter(Eventname=="Total")
        RestReturnsFinalData= FinalData %>% filter(Eventname!="Total")
        RestReturnsFinalData=RestReturnsFinalData %>% arrange(desc(CriticalLeft))
        
        FinalData=rbind(TotalReturnsFinalData, RestReturnsFinalData)
        FinalData$Rank=1:nrow(FinalData)
        
        
        #plot relationship bwetween news and retruns
        CriticalRemovalPlot=Stocks::Plot3YAxis(X=FinalData$Rank,
                                      Y1=FinalData$CriticalLeft,
                                      Y2=FinalData$MaximumDDLeft,
                                      Y3=FinalData$DaysLeft,
                                      
                                      XNames=FinalData$Eventname,
                                      
                                      Y1AxisName=YAxisName,
                                      Y2AxisName="Maximum DropDown Left",
                                      Y3AxisName="Days Left for Trading",
                                      
                                      Y1HoverName =YHover,
                                      Y2HoverName="LeftMaxDD",
                                      Y3HoverName="LeftGoodDays"
                                    )
        RETURN=list(CriticalRemovalPlot,NonFilterCriticalReturn )
        
        return(RETURN)
        }

###----------END---------------------------------Funtion Effect of filtering critical changes---------------------------------###
#################################################################################################################################





#library(sqldf)
library(purrr)
library(dplyr)
library(ggplot2)
library(plotly)
library(Stocks)
library(zoo)
library(data.table)

MinDDWanted=2 #percent of account wanted to be at maximum DD for this pair. 
ZigZagDDWated=2 #largest etesion in price used for sqing selection...used smaller than the returns DD wated..
PerCorrection=0.25 #Percent of correction tested. This is used to calcualte zigzag of this size of large. Basically, times when market extended before having a correction of this size


ForexData=fread("D:/Scrips/Trading/ForexPairs2YrsAll.csv") #ForexPairs2YrsAll  ForexPairs2Months.csv


ForexData=ForexData %>% rename("X" = "V1")


###############################################################################################################################
########---------------start---------------------DATA for daily returns------------------------------------------------########
###############################################################################################################################

Daility=ForexData[TF=="1 day", ]
Daility$Return=abs(Daility$h-Daility$l)/Daility$l*100 #Calcaulte returns as

Daility=Daility[,c(  "Date",    "Return","TickerNam")]
Daility$Date=as.Date(Daility$Date,  format ="%Y-%m-%d")

########---------------end-----------------------DATA for daily returns------------------------------------------------########
###############################################################################################################################





###############################################################################################################################
########---------------start---------------------DATA for swings-------------------------------------------------------########
###############################################################################################################################
## Swings are calcualte on 1 minute candle data, then for each day the maximum swings is calcualted. The idea is to create the 
## same data format as in the returns so the same fucntion for ploting can be used

ForexData=ForexData[TF=="1 min", ]
ForexData[,c("o", "h","l", "v","TF")]=NULL


PAIRS=unique(Daility$TickerNam)
SwingsData=data.frame()
for ( I in PAIRS){
    DataI=ForexData[TickerNam==I, ] #Select data for pair I
    
    SizeSwinsI=ZigZag_Frequency.Swings(DataI$c,change=PerCorrection) #Calculate size of swings for a given correction
    
    SwingsI=data.frame(Swings=ZigZag_Swings.Points(DataI$c,change=PerCorrection)) #Price point at which the swing occured. used to find the Candle where the swin happend
    
    
    SwingsI$X=DataI$X
    SwingsI=na.omit(SwingsI) 
    SwingsI=SwingsI[1:(nrow(SwingsI)-1),] #To select the start position of the  swings, the last row needs to be removed
    
    SwingsI$SizeSwins=SizeSwinsI #Apend the position of swins to their size
    SwingsI$Swings=NULL
    
    SwingsI=merge(DataI, SwingsI, by="X", all.x=TRUE)
    
    SwingsI$Date=as.Date(SwingsI$Date,  format ="%Y-%m-%d")
    SwingsI <- SwingsI %>% mutate(SizeSwins = ifelse(is.na(SizeSwins), 0, SizeSwins)) #candles that did not get any swings are set to cero
    
    SwingsI= SwingsI %>% group_by(Date) %>% summarise(MaxSwin = max(SizeSwins, na.rm=T)) #Get maximum swins in every day day
    
    SwingsI$TickerNam=I
      
    SwingsData=rbind(SwingsData, SwingsI)
    }

#Remove data not needed t clear RAM.
rm(ForexData, DataI)

SwingsData=as.data.frame(SwingsData)

###############################################################################################################################
########---------------end---------------------DATA for swings---------------------------------------------------------########
###############################################################################################################################





###############################################################################################################################
########---------------START-------------------NEWS for swings---------------------------------------------------------########
###############################################################################################################################
News=read.csv("D:/Scrips/Trading/OptiMoraR/ForexNewsData.csv")
News$X=NULL
###############################################################################################################################
########---------------end---------------------NEWS for swings---------------------------------------------------------########
###############################################################################################################################




###############################################################################################################################
###-------------------------------------------------Create Plot-------------------------------------------------------------###
###############################################################################################################################

#Returns by news event
for (TickerX in PAIRS){
  
#Plot returns by news  
    Subset=Daility[TickerNam==TickerX, ]
    Date=Subset$Date
    Change=Subset$Return
    
    Plot=PlotReturnsByNews(TickerX, Date=Date, Change=Change,News=News)

#Plot effect on returns of filtering news
    YName=paste0("Critical Returns Left at ",MinDDWanted ,"% in ", TickerX)
    Returns=PlotFilteringNews (Ticker=TickerX, Date=Date, Change=Change,News=News, CriticalThreshold=MinDDWanted, YHover="CritReturnsLeft",YAxisName=YName)


#Plot effect on swings of filtering news
    SwingsData=as.data.table(SwingsData)
    SubsetSwing=SwingsData[TickerNam==TickerX, ]
    
    DateSwings=SubsetSwing$Date
    ChangeSwings=SubsetSwing$MaxSwin
    
    YName=paste0("Critical Swings Left at ",ZigZagDDWated ,"% in ", TickerX)
    Swings=PlotFilteringNews (Ticker=TickerX, Date=DateSwings, Change=ChangeSwings,News=News, CriticalThreshold=ZigZagDDWated, YHover="CritSwingsLeft",YAxisName=YName)

assign(paste0("ReturnRangeByNews_",TickerX), Plot)
assign(paste0("CriticalReturns_",TickerX), Returns[[1]])
assign(paste0("NonFiltereReturns_",TickerX), Returns[[2]])
assign(paste0("CriticalSwings_",TickerX), Swings[[1]])
assign(paste0("NonFiltereSwings_",TickerX), Swings[[2]])

}



```



Below we show the effect of news releases on daily returns and swings. 
</br>
Critical returns are defined as days when the price range was larger than ``r MinDDWanted``% daily.
</br>
Critical swings are defined as times when price corrections larger than ``r   PerCorrection`` did not occurred after price extensions larger than ``r   ZigZagDDWated``%. Basically, the price got extended by up to ``r   ZigZagDDWated``% before there was a correction of ``r   PerCorrection``%. 



$$\\[.0009in]$$  


# AUDCAD
<details>

Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_AUDCAD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_AUDCAD
```



<details>
  <summary>Non filtered returns</summary>
```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_AUDCAD)
```
</details>  

Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_AUDCAD
```



<details>
  <summary>Non filtered swings</summary>
```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_AUDCAD)
```
</details>
</details>


$$\\[.0009in]$$  




# AUDCHF
<details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_AUDCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_AUDCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_AUDCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_AUDCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_AUDCHF)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
# AUDJPY
  <details>
  
  Range of returns by news release days.



```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_AUDJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_AUDJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_AUDJPY)
```
</details>  
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_AUDJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_AUDJPY)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
# AUDNZD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_AUDNZD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_AUDNZD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_AUDNZD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_AUDNZD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_AUDNZD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
  
# AUDUSD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_AUDUSD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_AUDUSD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_AUDUSD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_AUDUSD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_AUDUSD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
  
# CADCHF
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_CADCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_CADCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_CADCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_CADCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_CADCHF)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# CADJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_CADJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_CADJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_CADJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_CADJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_CADJPY)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# CHFJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_CHFJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_CHFJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_CHFJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_CHFJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_CHFJPY)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# EURAUD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURAUD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURAUD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURAUD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURAUD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURAUD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# EURCAD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURCAD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURCAD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURCAD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURCAD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURCAD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
# EURCHF
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURCHF)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
  
  
# EURGBP
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURGBP
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURGBP
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURGBP)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURGBP
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURGBP)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
# EURJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURJPY)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# EURNZD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURNZD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURNZD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURNZD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURNZD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURNZD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# EURUSD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_EURUSD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_EURUSD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_EURUSD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_EURUSD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_EURUSD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# GBPAUD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPAUD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPAUD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPAUD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPAUD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPAUD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# GBPCAD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPCAD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPCAD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPCAD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPCAD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPCAD)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
# GBPCHF
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPCHF)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
  
  
# GBPJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPJPY)
```
</details> 
  </details> 
  
  $$\\[.0009in]$$  
  
  
  
  
# GBPNZD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPNZD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPNZD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPNZD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPNZD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPNZD)
```
</details> 
  </details> 
  
  $$\\[.0009in]$$  
  
  
  
  
  
# GBPUSD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_GBPUSD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_GBPUSD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_GBPUSD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_GBPUSD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_GBPUSD)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
  
# NZDCAD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_NZDCAD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_NZDCAD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_NZDCAD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_NZDCAD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_NZDCAD)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
  
  
# NZDCHF
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_NZDCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_NZDCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_NZDCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_NZDCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_NZDCHF)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
  
# NZDJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_NZDJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_NZDJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_NZDJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_NZDJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_NZDJPY)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
  
# NZDUSD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_NZDUSD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_NZDUSD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_NZDUSD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_NZDUSD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_NZDUSD)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
# USDCAD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_USDCAD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_USDCAD
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_USDCAD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_USDCAD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_USDCAD)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
  
# USDCHF
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_USDCHF
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_USDCHF
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_USDCHF)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_USDCHF
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_USDCHF)
```
</details> 
  </details>
  
  
  $$\\[.0009in]$$  
  
  
  
# USDJPY
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_USDJPY
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalReturns_USDJPY
```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_USDJPY)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_USDJPY
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_USDJPY)
```
</details> 
  </details>
  
  $$\\[.0009in]$$  
  
  
  
# XAUUSD
  <details>
  
  Range of returns by news release days.

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10, fig.height = 6}
ReturnRangeByNews_XAUUSD
```


Effects on returns

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}

CriticalReturns_XAUUSD

```



<details>
  <summary>Non filtered returns</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereReturns_XAUUSD)
```
</details> 
  
  
  Effects on swings

```{r, echo=FALSE, message=FALSE,warning=FALSE, fig.align = 'center', fig.width =10}
CriticalSwings_XAUUSD
```


<details>
  <summary>Non filtered swings</summary>
  ```{r, echo=FALSE, eval=TRUE}
#do tABLE
knitr::kable(NonFiltereSwings_XAUUSD)
```
</details> 
  </details> 
  
  
  $$\\[.0009in]$$  
  
  [AUDCAD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_AUDCAD.html) 
[AUDCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_AUDCHF.html)
[AUDJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_AUDJPY.html)
[AUDNZD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_AUDNZD.html) 
[AUDUSD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_AUDUSD.html) 
[CADJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_CADJPY.html) 
[CADCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_CADCHF.html) 
[CHFJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_CHFJPY.html) 
[EURAUD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURAUD.html) 
[EURCAD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURCAD.html) 
[EURCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURCHF.html) 
[EURGBP](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURGBP.html) 
[EURJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURJPY.html) 
[EURNZD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURNZD.html) 
[EURUSD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_EURUSD.html) 
[GBPAUD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPAUD.html) 
[GBPCAD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPCAD.html) 
[GBPCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPCHF.html) 
[GBPJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPJPY.html) 
[GBPNZD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPNZD.html) 
[GBPUSD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_GBPUSD.html) 
[NZDCAD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_NZDCAD.html) 
[NZDCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_NZDCHF.html) 
[NZDJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_NZDJPY.html) 
[NZDUSD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_NZDUSD.html) 
[USDCAD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_USDCAD.html) 
[USDCHF](https://camilo-mora.github.io/OptiMoraR/SwingsNews_USDCHF.html) 
[USDJPY](https://camilo-mora.github.io/OptiMoraR/SwingsNews_USDJPY.html) 
[XAUUSD](https://camilo-mora.github.io/OptiMoraR/SwingsNews_XAUUSD.html) 
[ALL](https://camilo-mora.github.io/OptiMoraR/SwingsByALLPairs.html) 
